<!DOCTYPE html>
<html lang="pt-br"  ng-app="callcommunity">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0" >
	<title>Call Community - Messages</title>
	<link rel="icon" href="vendor/icon.png" sizes="32x32">
	<link rel="stylesheet" type="text/css" href="lib/components/components-all.css">
	<link rel="stylesheet" type="text/css" href="vendor/callcommunity.css">
	<link rel="stylesheet" type="text/css" href="vendor/messages.css">

	<script type="text/javascript" src="lib/angular/angular.min.js"></script>
	<script type="text/javascript" src="lib/angular/angular-touch.min.js"></script>
	<script type="text/javascript" src="lib/angular/angular-cookies.min.js"></script>
	<script type="text/javascript" src="vendor/callcommunity.js"></script>
	<script type="text/javascript" src="lib/components/date.js"></script>

	<script type="text/javascript" src="app/module.js"></script>
	<script type="text/javascript" src="app/controller.messages.js"></script>
	<script type="text/javascript" src="vendor/messages.js"></script>
</head>
<body class="">
	<header class="row-xs-2 col-xs-12 background-secondary">
		<div class="row-xs-2 col-xs-2"></div>
		<div class="row-xs-2 col-xs-8 text-center"><h3>Mensagens</h3></div>
		<div class="row-xs-2 col-xs-2"></div>
	</header>
	<main class="messages row-xs-20 col-xs-12" ng-controller="messages">
		
		<section class="window active col-xs-12 row-xs-20">
			<div class="col-xs-12 row-xs-2">
				<input type="search" name="messages-search" placeholder="digite o título" ng-model="msgSearch">
			</div>
			<div class="col-xs-12 row-xs-16 list">
				<li data-first-letter="{{ message.title.substring ( 1, 0 ); }}" ng-repeat="message in messages | filter: msgSearch" ng-dblclick="messageLoad ( $index ); ">
					<strong>{{ message.title }}</strong>
					<em>{{ message.text }}</em>
				</li>
			</div>
			<button name="btn-new" data-btn="tertiary" ng-click="messageToggle ( );">Nova Mensagem</button>
		</section>

		<section class="message details window col-xs-12 row-xs-20">
			<div class="col-xs-12 row-xs-2">
				<button name="close" data-btn="close" ng-click="messageToggle ( );"></button>
			</div>
			<div class="col-xs-12 row-xs-5">
				<span class="circle line radius">{{ messageCurrent.name.substring ( 1, 0 ); }}</span>
				<textarea class="row-xs-offset-1" name="title" placeholder="digite o título" rows="3" ng-model="messageCurrent.title"></textarea>
			</div>
			<div class="col-xs-12 row-xs-10">
				<textarea class="row-xs-offset-1" name="text" rows="8" placeholder="digite o texto" ng-model="messageCurrent.text" ></textarea>
			</div>
			<div class="col-xs-12 row-xs-3">
				<button name="delete" data-btn="secondary" ng-click="messageDelete ( ); " ng-disabled="!messageCurrent.title || !messageCurrent.text || messageCurrent.index == null">Deletar</button>
				<button name="save" data-btn="secondary" ng-click="messageSave ( );" ng-disabled="!messageCurrent.title || !messageCurrent.text">Salvar</button>
			</div>
		</section>

	</main>
	<footer class="row-xs-2 background-secondary">
		<nav class="col-xs-12 row-xs-2">
			<ul class="menu-footer col-xs-12 row-xs-2">
				<li><a href="calendar.html">Calendário</a></li>
				<li><a href="contacts.html">Contatos</a></li>
				<li><a href="multimedia.html">Audios</a></li>
				<li><a href="messages.html">Mensagens</a></li>
			</ul>
		</nav>
	</footer>
</body>
</html>